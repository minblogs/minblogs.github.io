<!-- <div class="carousel">
  <div class="skeleton">
    <img src="/upload/loading.webp" alt="loading" />
  </div>
  <img src="https://mazassumnida.wtf/api/v2/generate_badge?boj=mg07315" alt="solvedac" />
  <div class="mazandi">
    <img src="https://mazandi.herokuapp.com/api?handle=mg07315&theme=warm" alt="ps_solved" class="light" />
    <img src="https://mazandi.herokuapp.com/api?handle=mg07315&theme=dark" alt="ps_solved" class="dark" />
  </div>
</div> -->

<div class="carousel">
  <div class="carousel-track">
    <div class="slide">
      <img src="https://mazassumnida.wtf/api/v2/generate_badge?boj=mg07315" alt="solvedac" />
    </div>
    <div class="slide">
      <div class="mazandi">
        <img src="https://mazandi.herokuapp.com/api?handle=mg07315&theme=warm" alt="ps_solved" class="light" />
        <img src="https://mazandi.herokuapp.com/api?handle=mg07315&theme=dark" alt="ps_solved" class="dark" />
      </div>
    </div>
  </div>
</div>

<div class="controls">
  <button class="active" id="prev"></button>
  <button id="next"></button>
</div>

<script>
// const skeleton = document.querySelector('.skeleton');
// const carousel = document.querySelector('.carousel');

// window.onload = function() {
//   skeleton.style.display = 'none';
//   carousel.style.overflowX = 'auto';
// }

// function updateCarouselHeight() {
//   const carousel = document.querySelector('.carousel');
//   const image = document.querySelector('img[alt="solvedac"]');

//   const setHeight = () => {
//     carousel.style.height = `${image.clientHeight * 1.05}px`;
//   };

//   if (!image.complete) {
//     image.addEventListener('load', setHeight);
//   } else {
//     setHeight();
//   }
// }

// window.addEventListener('DOMContentLoaded', updateCarouselHeight);
// window.addEventListener('resize', updateCarouselHeight);

const track = document.querySelector('.carousel-track');
const slides = document.querySelectorAll('.slide');
const prev = document.getElementById('prev');
const next = document.getElementById('next');

let currentIndex = 0;

function updateCarousel() {
  const slideWidth = slides[0].offsetWidth;
  track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
}

prev.addEventListener('click', () => {
  if (currentIndex > 0) {
    currentIndex--;
    prev.classList.add('active');
    next.classList.remove('active');
    updateCarousel();
  }
});

next.addEventListener('click', () => {
  if (currentIndex < slides.length - 1) {
    currentIndex++;
    next.classList.add('active');
    prev.classList.remove('active');
    updateCarousel();
  }
});

window.addEventListener('resize', updateCarousel);
</script>
